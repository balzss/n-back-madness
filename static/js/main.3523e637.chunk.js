(window["webpackJsonpn-bacck-madness"]=window["webpackJsonpn-bacck-madness"]||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},19:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(6),c=a.n(r),l=(a(19),a(11)),o=a(7),i=a(8),h=a(12),u=a(9),m=a(13),d=a(10),v=(a(23),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(u.a)(t).call(this))).handleCancelBtn=function(){e.handleStopRound()},e.handleStartTouchStart=function(e){e.target.classList.add("active")},e.handleLetterMatchBtn=function(t){e.setState({letterMatch:!e.state.letterMatch})},e.handlePositionMatchBtn=function(t){e.setState({positionMatch:!e.state.positionMatch})},e.handleItemTouchStart=function(e){e.target.classList.add("active")},e.handleIncreaseNBack=function(t){t.target.classList.remove("active"),e.setState({nBack:Math.min(Math.floor(e.testLength/2),e.state.nBack+1)})},e.handleDecreaseNBack=function(t){t.target.classList.remove("active"),e.setState({nBack:Math.max(1,e.state.nBack-1)})},e.handleItemTouchStart=function(e){e.target.classList.add("active")},e.handleItemTouchEnd=function(e){e.target.classList.remove("active")},e.handleMenuClick=function(t){e.setState({screen:"start"})},e.handleStartRound=function(t){t.target.classList.remove("active");e.setState({screen:"test",questionNo:1,series:[e.getRandomQuestion([],e.state.nBack,0)],answers:[],scores:[],progressInterval:setInterval((function(){e.handleRoundChange()}),e.singleQuestionTime)},(function(){e.progress=new d.Line(".progressBar",{duration:e.singleQuestionTime,color:"#2545a8"}),e.progress.animate(1)}))},e.handleRoundChange=function(){if(e.state.questionNo>=e.testLength)e.handleStopRound();else{e.progress.set(0),e.progress.animate(1);var t=e.state.questionNo<=e.state.nBack?{}:e.calculateScore(e.state.series,e.state.positionMatch,e.state.letterMatch),a=e.state.scores.concat(t),n=e.state.series.concat(e.getRandomQuestion(e.state.series,e.state.nBack,e.state.questionNo)),s=e.state.answers.concat({letter:e.state.letterMatch,pos:e.state.positionMatch});e.setState({series:n,questionNo:e.state.questionNo+1,positionMatch:!1,letterMatch:!1,answers:s,scores:a})}},e.handleStopRound=function(){var t=e.calculateScore(e.state.series,e.state.positionMatch,e.state.letterMatch),a=e.state.scores.concat(t);clearInterval(e.state.progressInterval),e.setState({screen:"stats",progressInterval:null,scores:a})},e.state={screen:"start",series:[{letter:"#",pos:4}],answers:[],scores:[],progressInterval:null,questionNo:1,positionMatch:!1,letterMatch:!1,nBack:1},e.testLength=21,e.singleQuestionTime=3e3,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getMatchBtnClasses",value:function(e,t,a){return"matchBtn"+(e<=t?" disabled":a?" active":"")}},{key:"getRandomInt",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e+Math.floor(a?(a+1+Math.random()*(t-1))%t:Math.floor(Math.random()*t))}},{key:"getRandomQuestion",value:function(e,t,a){var n,s;if(a<t)n=String.fromCharCode(this.getRandomInt(65,25)),s=this.getRandomInt(0,9);else{var r=100*Math.random()<29.3,c=100*Math.random()<29.3,l=r&&e.slice(-t)[0].letter,o=c&&e.slice(-t)[0].pos;n=l||String.fromCharCode(this.getRandomInt(65,25,l)),s=o||this.getRandomInt(0,9,o)}return{letter:n,pos:s}}},{key:"calculateScore",value:function(e,t,a){var n=e.slice(-1-this.state.nBack)[0],s=e.slice(-1)[0];return{pos:t===(n.pos===s.pos),letter:a===(n.letter===s.letter)}}},{key:"renderBoard",value:function(){var e=this;return s.a.createElement("div",{className:"board"},Object(l.a)(Array(9)).map((function(t,a){var n=a===e.state.series.slice(-1)[0].pos,r="displayLetter"+(n?" show":"");return s.a.createElement("div",{className:"cell"+(n?" active":""),key:a},s.a.createElement("span",{className:r},e.state.series.slice(-1)[0].letter))})))}},{key:"renderStartScreen",value:function(){var e="menuItem"+(1===this.state.nBack?" disabled":""),t="menuItem"+(this.state.nBack>=Math.round(this.testLength/2)?" disabled":"");return s.a.createElement("div",{className:"homeScreen"},s.a.createElement("div",{className:"header"},s.a.createElement("h1",null,"Dual N-Back")),s.a.createElement("div",{className:"menuItems"},s.a.createElement("div",{className:"menuItem"},"How to play"),s.a.createElement("div",{className:"menuItem"},"Options"),s.a.createElement("div",{className:"menuItem"},"Statistics"),s.a.createElement("div",{className:"modeSelector"},s.a.createElement("div",{className:e,onTouchStart:this.handleItemTouchStart,onTouchEnd:this.handleDecreaseNBack},s.a.createElement("i",{className:"fas fa-caret-left"})),s.a.createElement("div",{className:"menuItem"},this.state.nBack," Back"),s.a.createElement("div",{className:t,onTouchStart:this.handleItemTouchStart,onTouchEnd:this.handleIncreaseNBack},s.a.createElement("i",{className:"fas fa-caret-right"}))),s.a.createElement("div",{className:"startBtn",onTouchStart:this.handleStartTouchStart,onTouchEnd:this.handleStartRound},"Start")))}},{key:"renderTestScreen",value:function(){var e=this.getMatchBtnClasses(this.state.questionNo,this.state.nBack,this.state.letterMatch),t=this.getMatchBtnClasses(this.state.questionNo,this.state.nBack,this.state.positionMatch);return s.a.createElement("div",{className:"gameScreen"},s.a.createElement("div",{className:"gameHeader"},s.a.createElement("div",{className:"title"},"Dual ",this.state.nBack," Back"),s.a.createElement("button",{className:"cancelBtn",onClick:this.handleCancelBtn},"Cancel")),s.a.createElement("div",{className:"boardContainer"},this.renderBoard()),s.a.createElement("div",{className:"progressBarHolder"},s.a.createElement("div",{className:"progressBar"})),s.a.createElement("div",{className:"btnRow"},s.a.createElement("div",{className:e,onTouchStart:this.handleLetterMatchBtn},"Letter match"),s.a.createElement("div",{className:t,onTouchStart:this.handlePositionMatchBtn},"Position match")),s.a.createElement("div",{className:"pager"}," ",s.a.createElement("span",{className:"number"},this.state.questionNo)," ",s.a.createElement("span",{className:"separator"},"/")," ",s.a.createElement("span",{className:"number"},this.testLength)," "))}},{key:"renderStatsScreen",value:function(){var e=this.state.scores.slice(1,-1).reduce((function(e,t){return t.pos?e+1:e}),0),t=this.state.scores.slice(1,-1).reduce((function(e,t){return t.letter?e+1:e}),0),a=this.state.scores.slice(1,-1).reduce((function(e,t){return t.letter&&t.pos?e+1:e}),0);return s.a.createElement("div",{className:"statsScreen"},s.a.createElement("h2",null,"Game info:"),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"N-Back"),s.a.createElement("td",null,this.state.nBack)),s.a.createElement("tr",null,s.a.createElement("th",null,"Rounds completed"),s.a.createElement("td",null,this.state.questionNo-1)))),s.a.createElement("h2",null,"Success rates:"),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Position matched"),s.a.createElement("td",null,Math.round(e/(this.state.questionNo-2)*100),"%")),s.a.createElement("tr",null,s.a.createElement("th",null,"Letter matched"),s.a.createElement("td",null,Math.round(t/(this.state.questionNo-2)*100),"%")),s.a.createElement("tr",null,s.a.createElement("th",null,"Both matched"),s.a.createElement("td",null,Math.round(a/(this.state.questionNo-2)*100),"%")))),s.a.createElement("div",{className:"backHomeBtn",onClick:this.handleMenuClick},"Main menu"),s.a.createElement("div",{className:"retryBtn",onClick:this.handleStartRound},"Retry"))}},{key:"renderScreen",value:function(){return"test"===this.state.screen?this.renderTestScreen():"stats"===this.state.screen?this.renderStatsScreen():this.renderStartScreen()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.renderScreen())}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.3523e637.chunk.js.map